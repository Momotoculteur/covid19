(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"w1+i":function(e,t,a){"use strict";a.r(t);var n=a("ofXK"),o=a("tyNb"),i=a("fXoL"),c=a("XiUz"),r=a("wZkO");function s(e,t){if(1&e&&(i.Sb(0,"a",6,7),i.Bc(2),i.Rb()),2&e){const e=t.$implicit,a=i.oc(1);i.jc("routerLink",e.link)("active",a.isActive),i.Bb(2),i.Dc(" ",e.label," ")}}let l=(()=>{class e{constructor(){this.navLinks=[{label:"Graphique",link:"graphique",index:0},{label:"Carte",link:"carte",index:1}]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Hb({type:e,selectors:[["app-global"]],decls:7,vars:1,consts:[["fxFill","",1,"noScroll"],["fxFlex","","fxLayout","column"],["fxFlex","50px"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"routerLink","active",4,"ngFor","ngForOf"],["fxFlex","",1,"noScroll"],["mat-tab-link","","routerLinkActive","",3,"routerLink","active"],["rla","routerLinkActive"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.Sb(2,"div",2),i.Sb(3,"nav",3),i.Ac(4,s,3,3,"a",4),i.Rb(),i.Rb(),i.Sb(5,"div",5),i.Ob(6,"router-outlet"),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Bb(4),i.jc("ngForOf",t.navLinks))},directives:[c.f,c.b,c.d,r.b,n.j,o.f,o.d,r.a,o.c],styles:[".mat-tab-label[_ngcontent-%COMP%], .mat-tab-link[_ngcontent-%COMP%], .mat-tab-links[_ngcontent-%COMP%]{height:50px}.mat-tab-label-active[_ngcontent-%COMP%]{font-weight:700}.scrollable[_ngcontent-%COMP%]{overflow:auto}.noScroll[_ngcontent-%COMP%]{overflow:hidden;flex-wrap:nowrap}"]}),e})();var d=a("PPqH"),b=a("4R65"),u=a("WYmB"),h=a("9KmE"),p=a("tk/3"),g=a("/qmH"),f=a("bTqV"),m=a("OwhE"),R=a("f0Cb"),y=a("kmnG"),v=a("d3UM"),S=a("qFsG"),x=a("iadO"),D=a("FKr1"),C=a("NFeN"),B=a("znSr");function L(e,t){if(1&e&&(i.Sb(0,"mat-option",42),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.jc("value",e),i.Bb(1),i.Dc(" ",e," ")}}function I(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",33),i.Sb(1,"div",34),i.Sb(2,"h1"),i.Bc(3," Param\xe8tres "),i.Rb(),i.Rb(),i.Ob(4,"mat-divider"),i.Sb(5,"div",27),i.Sb(6,"div",34),i.Sb(7,"h3"),i.Bc(8," Type de donn\xe9es "),i.Rb(),i.Rb(),i.Sb(9,"div",35),i.Sb(10,"mat-form-field"),i.Sb(11,"mat-select",36),i.ac("selectionChange",(function(){return i.rc(e),i.ec().updateStyleMap()}))("valueChange",(function(t){return i.rc(e),i.ec().selectedTypeGraph=t})),i.Ac(12,L,2,2,"mat-option",37),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(13,"div",27),i.Sb(14,"div",34),i.Sb(15,"h3"),i.Bc(16," Choix Date "),i.Rb(),i.Rb(),i.Sb(17,"div",35),i.Sb(18,"mat-form-field",38),i.Sb(19,"input",39),i.ac("dateChange",(function(t){return i.rc(e),i.ec().dateChanged(t.value)})),i.Rb(),i.Ob(20,"mat-datepicker-toggle",40),i.Ob(21,"mat-datepicker",null,41),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=i.oc(22),t=i.ec();i.Bb(11),i.jc("value",t.selectedTypeGraph),i.Bb(1),i.jc("ngForOf",t.listTypeGraph),i.Bb(7),i.jc("value",t.selectedDate)("min",t.minDate)("max",t.maxDate)("matDatepicker",e),i.Bb(1),i.jc("for",e)}}function w(e,t){1&e&&(i.Sb(0,"mat-icon"),i.Bc(1," keyboard_arrow_left "),i.Rb())}function O(e,t){1&e&&(i.Sb(0,"mat-icon"),i.Bc(1," keyboard_arrow_right "),i.Rb())}function M(e,t){if(1&e&&(i.Sb(0,"h1",43),i.Bc(1),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.Dc(" ",e.onHoverLegendInfos," ")}}function E(e,t){if(1&e&&(i.Sb(0,"h2",21),i.Bc(1),i.Rb()),2&e){const e=i.ec(2);i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValue," Cas ")}}function T(e,t){if(1&e&&(i.Sb(0,"div",46),i.Sb(1,"h2",47),i.Bc(2),i.Rb(),i.Rb()),2&e){const e=i.ec(2);i.Bb(2),i.Dc(" Taux ",e.onHoverLegendInfosValue," ")}}function A(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}const G=function(e,t){return{red:e,green:t}};function j(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,A,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec(2);i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValueDayBefore>0,e.onHoverLegendInfosValueDayBefore<0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValueDayBefore>=0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValueDayBefore,") ")}}function k(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}function F(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,k,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec(2);i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValueDayBefore<0,e.onHoverLegendInfosValueDayBefore>0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValueDayBefore>=0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValueDayBefore,") ")}}function P(e,t){if(1&e&&(i.Sb(0,"div",28),i.Ac(1,E,2,1,"h2",44),i.Ac(2,T,3,1,"div",45),i.Bc(3," \xa0 "),i.Sb(4,"h2",28),i.Ac(5,j,4,6,"span",25),i.Ac(6,F,4,6,"span",25),i.Rb(),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.jc("ngIf",!e.miseEnFormeLegendBottomTitle()),i.Bb(1),i.jc("ngIf",e.miseEnFormeLegendBottomTitle()),i.Bb(3),i.jc("ngIf",e.isColorInversed),i.Bb(1),i.jc("ngIf",!e.isColorInversed)}}function V(e,t){1&e&&(i.Sb(0,"div",28),i.Sb(1,"h2"),i.Bc(2," Donn\xe9es non disponible "),i.Rb(),i.Rb())}function H(e,t){1&e&&(i.Sb(0,"div",28),i.Sb(1,"h2"),i.Bc(2," Selectionnez un pays... "),i.Rb(),i.Rb())}function _(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}function q(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,_,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec();i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValueMinDayBefore>0,e.onHoverLegendInfosValueMinDayBefore<0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValueMinDayBefore>0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValueMinDayBefore,") ")}}function z(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}function N(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,z,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec();i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValueMinDayBefore<0,e.onHoverLegendInfosValueMinDayBefore>0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValueMinDayBefore>0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValueMinDayBefore,") ")}}function Y(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}function U(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,Y,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec();i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValuemaxDayBefore>0,e.onHoverLegendInfosValuemaxDayBefore<0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValuemaxDayBefore>0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValuemaxDayBefore,") ")}}function $(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}function X(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,$,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec();i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValuemaxDayBefore<0,e.onHoverLegendInfosValuemaxDayBefore>0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValuemaxDayBefore>0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValuemaxDayBefore,") ")}}function K(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}function J(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,K,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec();i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValueMeanDayBefore>0,e.onHoverLegendInfosValueMeanDayBefore<0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValueMeanDayBefore>0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValueMeanDayBefore,") ")}}function Q(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"+"),i.Rb())}function W(e,t){if(1&e&&(i.Sb(0,"span",48),i.Bc(1," ( "),i.Ac(2,Q,2,0,"span",7),i.Bc(3),i.Rb()),2&e){const e=i.ec();i.jc("ngClass",i.mc(3,G,e.onHoverLegendInfosValueMeanDayBefore<0,e.onHoverLegendInfosValueMeanDayBefore>0)),i.Bb(2),i.jc("ngIf",e.onHoverLegendInfosValueMeanDayBefore>0),i.Bb(1),i.Dc(" ",e.onHoverLegendInfosValueMeanDayBefore,") ")}}function Z(e,t){if(1&e&&(i.Sb(0,"span"),i.Bc(1),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.Dc("Cas ",e.selectedTypeGraph,"")}}function ee(e,t){if(1&e&&(i.Sb(0,"span"),i.Bc(1),i.Rb()),2&e){const e=i.ec();i.Bb(1),i.Cc(e.selectedTypeGraph)}}function te(e,t){1&e&&(i.Sb(0,"span"),i.Bc(1,"pour 100 personnes"),i.Rb())}function ae(e,t){1&e&&i.Ob(0,"div",49),2&e&&i.yc("background: ",t.$implicit,"")}function ne(e,t){if(1&e&&(i.Sb(0,"div"),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.Bb(1),i.Cc(e)}}const oe=function(e){return{bottom:!1,right:e,top:!1,left:!1}};let ie=300;const ce={color:"#4974ff",fillOpacity:.7,weight:2},re={weight:5,color:"white"};let se=(()=>{class e{constructor(e,t){this.http=e,this.ref=t,this.leafletOptions={layers:[Object(b.tileLayer)("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:"Bastien MAURICE"})],zoom:3,center:Object(b.latLng)(46.303558,6.0164252)},this.widthSidebar=ie,this.isOpenSidebar=!0,this.selectedTypeGraph=d.a.CONFIRMED,this.selectedLegendColorGradient=u.c,this.listTypeGraph=[d.a.CONFIRMED,d.a.DEATH,d.a.ACTIVE,d.a.RECOVERED,d.a.RECOVERY_RATE,d.a.MORTALITY_RATE],this.selectedLegendInfos=[],this.onHoverLegendInfos="",this.isHoveringItem=!1,this.isColorInversed=!0}toggleSidebar(){this.isOpenSidebar=!this.isOpenSidebar,this.widthSidebar=this.isOpenSidebar?ie:30}onResizeEnd(e){ie=e.rectangle.width,this.widthSidebar=e.rectangle.width}dateChanged(e){this.selectedDate=e,this.updateStyleMap()}updateMinMaxMeanTopLegendInfos(){const e=this.getArgsId();let t,a,n,o,i=0,c=0,r=0,s=0;this.globalLayer.eachLayer(l=>{l.feature.properties.value.forEach(l=>{Object(h.j)(new Date(l.Date),this.selectedDate)&&(i+=l[e],c++,void 0===t?t=l[e]:l[e]<t&&(t=l[e]),void 0===a?a=l[e]:l[e]>a&&(a=l[e]));const d=new Date(this.selectedDate);d.setDate(d.getDate()-1),Object(h.j)(d,new Date(l.Date))&&(r+=l[e],s++,void 0===n?n=l[e]:l[e]<n&&(n=l[e]),void 0===o?o=l[e]:l[e]>o&&(o=l[e]))})}),this.onHoverLegendInfosValueMean=Number(Math.round(i/c).toFixed(2)),this.onHoverLegendInfosValueMin=Number(t.toFixed(2)),this.onHoverLegendInfosValuemax=Number(a.toFixed(2)),this.onHoverLegendInfosValueMeanDayBefore=Number((Math.round(r/s)-this.onHoverLegendInfosValueMean).toFixed(2)),this.onHoverLegendInfosValueMinDayBefore=Number((t-n).toFixed(2)),this.onHoverLegendInfosValuemaxDayBefore=Number((o-a).toFixed(2))}updateLegendValues(){let e=0;this.globalLayer.eachLayer(t=>{t.feature.properties.value.forEach(t=>{if(Object(h.j)(new Date(t.Date),this.selectedDate))switch(this.selectedTypeGraph){case d.a.CONFIRMED:t.Confirmed>e&&(e=t.Confirmed);break;case d.a.DEATH:t.Death>e&&(e=t.Death);break;case d.a.ACTIVE:t.Active>e&&(e=t.Active);break;case d.a.RECOVERED:t.Recovered>e&&(e=t.Recovered);break;case d.a.RECOVERY_RATE:t.Recovered_Rate>e&&(e=t.Recovered_Rate);break;case d.a.MORTALITY_RATE:t.Mortality_Rate>e&&(e=t.Mortality_Rate)}})});let t=Math.round(e/7);this.selectedLegendInfos=[6*t,5*t,4*t,3*t,2*t,t]}updateStyleMap(){let e;switch(this.updateLengendColor(),this.updateLegendValues(),this.updateMinMaxMeanTopLegendInfos(),this.selectedTypeGraph){case d.a.CONFIRMED:e="Confirmed",this.isColorInversed=!0;break;case d.a.DEATH:e="Death",this.isColorInversed=!0;break;case d.a.ACTIVE:e="Active",this.isColorInversed=!0;break;case d.a.RECOVERED:e="Recovered",this.isColorInversed=!1;break;case d.a.RECOVERY_RATE:e="Recovered_Rate",this.isColorInversed=!1;break;case d.a.MORTALITY_RATE:e="Mortality_Rate",this.isColorInversed=!0}this.globalLayer.eachLayer(t=>{t.feature.properties.value.forEach(a=>{Object(h.j)(new Date(a.Date),this.selectedDate)&&t.setStyle({fillColor:this.getColor(a[e]),fillOpacity:.7,weight:2})})})}updateLengendColor(){switch(this.selectedTypeGraph){case d.a.CONFIRMED:case d.a.DEATH:this.selectedLegendColorGradient=u.c;break;case d.a.ACTIVE:this.selectedLegendColorGradient=u.b;break;case d.a.RECOVERED:case d.a.RECOVERY_RATE:this.selectedLegendColorGradient=u.a;break;case d.a.MORTALITY_RATE:this.selectedLegendColorGradient=u.c}}validate(e){return!(e.rectangle.width&&e.rectangle.width<300)}miseEnFormeLegendBottomTitle(){return this.selectedTypeGraph===d.a.MORTALITY_RATE||this.selectedTypeGraph===d.a.RECOVERY_RATE}getColor(e){return e>this.selectedLegendInfos[0]?this.selectedLegendColorGradient[0]:e>this.selectedLegendInfos[1]?this.selectedLegendColorGradient[1]:e>this.selectedLegendInfos[2]?this.selectedLegendColorGradient[2]:e>this.selectedLegendInfos[3]?this.selectedLegendColorGradient[3]:e>this.selectedLegendInfos[4]?this.selectedLegendColorGradient[4]:this.selectedLegendColorGradient[5]}initDatesMinMax(){this.globalLayer.eachLayer(e=>{e.feature.properties.value.forEach(e=>{void 0===this.minDate&&(this.minDate=new Date(e.Date)),void 0===this.maxDate&&(this.maxDate=new Date(e.Date)),void 0===this.selectedDate&&(this.selectedDate=new Date(e.Date)),new Date(e.Date)>this.maxDate&&(this.maxDate=new Date(e.Date),this.selectedDate=new Date(e.Date)),new Date(e.Date)<this.minDate&&(this.minDate=new Date(e.Date))})})}ngOnInit(){this.http.get(h.f).subscribe(e=>{this.globalLayer=b.geoJSON(e,{style:ce,onEachFeature:(e,t)=>{t.on("mouseover",e=>this.highlightFeature(e)),t.on("mouseout",e=>this.resetHighlight(e))}}),this.initDatesMinMax(),this.updateStyleMap()})}onMapReady(e){this.leafletMap=e}resetHighlight(e){this.isHoveringItem=!1,this.globalLayer.eachLayer(e=>{e.setStyle(ce)}),this.onHoverLegendInfos=null,this.onHoverLegendInfosValue=null,this.ref.detectChanges()}getArgsId(){let e;switch(this.selectedTypeGraph){case d.a.CONFIRMED:e="Confirmed";break;case d.a.DEATH:e="Death";break;case d.a.ACTIVE:e="Active";break;case d.a.RECOVERED:e="Recovered";break;case d.a.RECOVERY_RATE:e="Recovered_Rate";break;case d.a.MORTALITY_RATE:e="Mortality_Rate"}return e}highlightFeature(e){this.isHoveringItem=!0;const t=e.target;let a,n;t.setStyle(re);const o=this.getArgsId(),i=new Date(this.selectedDate);i.setDate(i.getDate()-1),t.feature.properties.value.forEach(e=>{Object(h.j)(new Date(e.Date),this.selectedDate)&&(a=e[o]),Object(h.j)(new Date(e.Date),i)&&(n=e[o])}),a?(this.onHoverLegendInfos=t.feature.properties.CountryName,this.onHoverLegendInfosValue=Number(a.toFixed(2)),this.onHoverLegendInfosValueDayBefore=Number((a-n).toFixed(2))):(this.onHoverLegendInfos=t.feature.properties.CountryName,this.onHoverLegendInfosValue=null,this.onHoverLegendInfosValueDayBefore=null),this.ref.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(p.a),i.Nb(i.h))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-map"]],decls:63,vars:30,consts:[["fxFlexFill","","fxLayout","row","fxLayoutAlign","center",1,"mainContener"],["mwlResizable","","resizeCursorPrecision","5",3,"enableGhostResize","resizeEdges","validateResize","resizeEnd"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between"],["fxFlex","","fxLayout","column","fxLayoutGap","20px","class","scrollable",4,"ngIf"],["fxLayout","row","fxFlex","30px"],["fxFlex","","fxLayoutAlign","center"],["fxFlex","","mat-button","",1,"buttonSidebarClose","icon",3,"click"],[4,"ngIf"],["fxFlex","2px",1,"dividerSidebar"],["fxFlex",""],["leaflet","",1,"lastPlan",2,"height","100%",3,"leafletOptions","leafletMapReady"],[3,"leafletLayer"],[1,"legendTop"],["fxFlex","","fxLayout","row","fxLayoutAlign","center"],["fxFlex","","fxLayout","column","fxLayoutAlign","center"],["fxLayoutAlign","center","style","margin: 0px;font-weight: bold;",4,"ngIf"],["fxLayoutAlign","center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center",2,"margin","10px"],["fxFlex","60%"],["fxFill",""],["fxLayout","column","fxLayoutAlign","center center","fxLa","",2,"margin","0px","margin-bottom","10px"],[2,"margin","0px"],["fxLayout","row","fxLayoutAlign","space-around center"],[2,"margin-left","20px"],["fxFlex","","fxLayout","row","fxLayoutAlign","end",2,"margin","0px","margin-right","20px"],[3,"ngClass",4,"ngIf"],[1,"firstPlan","legend"],["fxLayout","column"],["fxLayoutAlign","center"],["fxFlex","","fxLayout","row","fxLayoutGap","10px","fxLayoutAlign","space-evenly"],["fxLayoutGap","5px","fxLayout","column","fxLayoutAlign","center"],["class","squareLegend",3,"style",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["fxFlex","","fxLayout","column","fxLayoutGap","20px",1,"scrollable"],["fxLayout","row","fxLayoutAlign","center"],[1,"contentTemplate"],[3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[1,"dateInput"],["matInput","",3,"value","min","max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],[3,"value"],["fxLayoutAlign","center",2,"margin","0px","font-weight","bold"],["style","margin: 0px;",4,"ngIf"],["style","margin: 0px;","fxLayout","column",4,"ngIf"],["fxLayout","column",2,"margin","0px"],["fxLayoutAlign","center",2,"margin","0px"],[3,"ngClass"],[1,"squareLegend"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.ac("resizeEnd",(function(e){return t.onResizeEnd(e)})),i.Sb(2,"div",2),i.Ac(3,I,23,7,"div",3),i.Sb(4,"div",4),i.Sb(5,"div",5),i.Sb(6,"button",6),i.ac("click",(function(){return t.toggleSidebar()})),i.Ac(7,w,2,0,"mat-icon",7),i.Ac(8,O,2,0,"mat-icon",7),i.Rb(),i.Rb(),i.Ob(9,"div",8),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"div",9),i.Sb(11,"div",10),i.ac("leafletMapReady",(function(e){return t.onMapReady(e)})),i.Ob(12,"div",11),i.Rb(),i.Rb(),i.Rb(),i.Sb(13,"div",12),i.Sb(14,"div",13),i.Sb(15,"div",14),i.Ac(16,M,2,1,"h1",15),i.Ac(17,P,7,4,"div",16),i.Ac(18,V,3,0,"div",16),i.Ac(19,H,3,0,"div",16),i.Sb(20,"div",17),i.Sb(21,"div",18),i.Ob(22,"mat-divider",19),i.Rb(),i.Rb(),i.Sb(23,"div",20),i.Sb(24,"h2",21),i.Bc(25," PAYS "),i.Rb(),i.Sb(26,"h3",21),i.Bc(27," Tout confondu "),i.Rb(),i.Rb(),i.Sb(28,"div",22),i.Sb(29,"div",23),i.Bc(30," Min "),i.Rb(),i.Sb(31,"h3",24),i.Sb(32,"div"),i.Bc(33),i.Ac(34,q,4,6,"span",25),i.Ac(35,N,4,6,"span",25),i.Rb(),i.Rb(),i.Rb(),i.Sb(36,"div",22),i.Sb(37,"div",23),i.Bc(38," Max "),i.Rb(),i.Sb(39,"h3",24),i.Bc(40),i.Ac(41,U,4,6,"span",25),i.Ac(42,X,4,6,"span",25),i.Rb(),i.Rb(),i.Sb(43,"div",22),i.Sb(44,"div",23),i.Bc(45," Moyenne "),i.Rb(),i.Sb(46,"h3",24),i.Bc(47),i.Ac(48,J,4,6,"span",25),i.Ac(49,W,4,6,"span",25),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Sb(50,"div",26),i.Sb(51,"div",27),i.Sb(52,"div",28),i.Sb(53,"div"),i.Sb(54,"h3",21),i.Ac(55,Z,2,1,"span",7),i.Ac(56,ee,2,1,"span",7),i.Rb(),i.Ac(57,te,2,0,"span",7),i.Rb(),i.Rb(),i.Sb(58,"div",29),i.Sb(59,"div",30),i.Ac(60,ae,1,3,"div",31),i.Rb(),i.Sb(61,"div",30),i.Ac(62,ne,2,1,"div",32),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Bb(1),i.zc("width",t.widthSidebar+"px"),i.jc("enableGhostResize",!0)("resizeEdges",i.lc(28,oe,t.isOpenSidebar))("validateResize",t.validate),i.Bb(2),i.jc("ngIf",t.isOpenSidebar),i.Bb(4),i.jc("ngIf",t.isOpenSidebar),i.Bb(1),i.jc("ngIf",!t.isOpenSidebar),i.Bb(3),i.jc("leafletOptions",t.leafletOptions),i.Bb(1),i.jc("leafletLayer",t.globalLayer),i.Bb(4),i.jc("ngIf",t.isHoveringItem),i.Bb(1),i.jc("ngIf",t.isHoveringItem&&t.onHoverLegendInfosValue),i.Bb(1),i.jc("ngIf",t.isHoveringItem&&null===t.onHoverLegendInfosValue),i.Bb(1),i.jc("ngIf",!t.isHoveringItem),i.Bb(14),i.Dc(" ",t.onHoverLegendInfosValueMin," \xa0 "),i.Bb(1),i.jc("ngIf",t.isColorInversed),i.Bb(1),i.jc("ngIf",!t.isColorInversed),i.Bb(5),i.Dc(" ",t.onHoverLegendInfosValuemax," \xa0 "),i.Bb(1),i.jc("ngIf",t.isColorInversed),i.Bb(1),i.jc("ngIf",!t.isColorInversed),i.Bb(5),i.Dc(" ",t.onHoverLegendInfosValueMean," \xa0 "),i.Bb(1),i.jc("ngIf",t.isColorInversed),i.Bb(1),i.jc("ngIf",!t.isColorInversed),i.Bb(6),i.jc("ngIf",!t.miseEnFormeLegendBottomTitle()),i.Bb(1),i.jc("ngIf",t.miseEnFormeLegendBottomTitle()),i.Bb(1),i.jc("ngIf",t.miseEnFormeLegendBottomTitle()),i.Bb(3),i.jc("ngForOf",t.selectedLegendColorGradient),i.Bb(2),i.jc("ngForOf",t.selectedLegendInfos))},directives:[c.f,c.d,c.c,g.a,c.b,n.k,f.a,m.a,m.b,R.a,c.e,n.j,y.b,v.a,S.b,x.b,x.d,y.f,x.a,D.k,C.a,n.i,B.a],styles:[".dividerSidebar[_ngcontent-%COMP%]{background-color:#323233}.icon[_ngcontent-%COMP%]:hover{color:#ec407a}.icon[_ngcontent-%COMP%]{color:#f48fb1}mwlResizable[_ngcontent-%COMP%]{box-sizing:border-box}.floatingButtonContener[_ngcontent-%COMP%]{position:fixed;bottom:40px;right:20px}.buttonSidebarClose[_ngcontent-%COMP%]{padding:0;width:20px;min-width:0}.contentTemplate[_ngcontent-%COMP%]{padding-left:10px}.titleTemplate[_ngcontent-%COMP%]{padding-left:5px}.dateInput[_ngcontent-%COMP%]{width:150px}.loader[_ngcontent-%COMP%]{background-color:transparent;width:100%;height:100%;position:absolute;top:0;left:0;background-color:red;opacity:.5}.legend[_ngcontent-%COMP%]{width:150px;height:200px;bottom:60px}.legend[_ngcontent-%COMP%], .legendTop[_ngcontent-%COMP%]{position:fixed;right:40px;background-color:#fff}.legendTop[_ngcontent-%COMP%]{width:250px;height:280px;top:120px;z-index:3}.lastPlan[_ngcontent-%COMP%]{z-index:1}.firstPlan[_ngcontent-%COMP%]{z-index:2}.squareLegend[_ngcontent-%COMP%]{width:20px;height:20px}.green[_ngcontent-%COMP%]{color:green}.red[_ngcontent-%COMP%]{color:red}.scrollable[_ngcontent-%COMP%]{overflow:auto}"]}),e})();var le=a("kRbQ"),de=a("GvUb"),be=a("v5SH");class ue{constructor(e,t,a,n,o,i,c,r,s){this.date=e,this.region=t,this.country=a,this.death=o,this.confirmed=n,this.recovered=i,this.active=c,this.mortalityRate=r,this.recoveryRate=s}getDate(){return this.date}setDate(e){this.date=e}getRegion(){return this.region}setRegion(e){this.region=e}getCountry(){return this.country}setCountry(e){this.country=e}getDeath(){return this.death}setDeath(e){this.death=e}getConfirmed(){return this.confirmed}setConfirmed(e){this.confirmed=e}getRecovered(){return this.recovered}setRecovered(e){this.recovered=e}getActive(){return this.active}setActive(e){this.active=e}getMortalityRate(){return this.mortalityRate}setMortalityRate(e){this.mortalityRate=e}getRecoveryRate(){return this.recoveryRate}setRecoveryRate(e){this.recoveryRate=e}}var he=a("zT9C"),pe=a("kDNy"),ge=a("nXzS"),fe=a("JJv3"),me=a("Qu3c"),Re=a("8pX3"),ye=a("1jcm"),ve=a("QibW"),Se=a("3Pt+"),xe=a("5RNC"),De=a("u3+B");function Ce(e,t){if(1&e&&(i.Sb(0,"mat-option",31),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.jc("value",e),i.Bb(1),i.Dc(" ",e.country," ")}}function Be(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div"),i.Sb(1,"mat-form-field"),i.Sb(2,"mat-select",30),i.ac("selectionChange",(function(){return i.rc(e),i.ec(2).updateFiltredData()}))("valueChange",(function(t){return i.rc(e),i.ec(2).selectedMultipleCountry=t})),i.Ac(3,Ce,2,2,"mat-option",26),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=i.ec(2);i.Bb(2),i.jc("value",e.selectedMultipleCountry),i.Bb(1),i.jc("ngForOf",e.allCountry)}}function Le(e,t){if(1&e&&(i.Sb(0,"mat-option",31),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.jc("value",e),i.Bb(1),i.Dc(" ",e.country," ")}}function Ie(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div"),i.Sb(1,"mat-form-field"),i.Sb(2,"mat-select",32),i.ac("selectionChange",(function(){return i.rc(e),i.ec(2).updateFiltredData()}))("valueChange",(function(t){return i.rc(e),i.ec(2).selectedUniqueCountry=t})),i.Ac(3,Le,2,2,"mat-option",26),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=i.ec(2);i.Bb(2),i.jc("value",e.selectedUniqueCountry),i.Bb(1),i.jc("ngForOf",e.allCountry)}}function we(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",20),i.Sb(1,"mat-form-field",24),i.Sb(2,"input",33),i.ac("dateChange",(function(t){return i.rc(e),i.ec(2).updateDate(t.value)})),i.Rb(),i.Ob(3,"mat-datepicker-toggle",34),i.Ob(4,"mat-datepicker",null,35),i.Rb(),i.Rb()}if(2&e){const e=i.oc(5),t=i.ec(2);i.Bb(2),i.jc("value",t.currentDate)("min",t.minDate)("max",t.maxDate)("matDatepicker",e),i.Bb(1),i.jc("for",e)}}function Oe(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",20),i.Sb(1,"div"),i.Bc(2,"Date Minimal"),i.Rb(),i.Sb(3,"mat-form-field",24),i.Sb(4,"input",33),i.ac("dateChange",(function(t){return i.rc(e),i.ec(2).updateDateCurrentMin(t.value)})),i.Rb(),i.Ob(5,"mat-datepicker-toggle",34),i.Ob(6,"mat-datepicker",null,36),i.Rb(),i.Sb(8,"div"),i.Bc(9,"Date Maximal"),i.Rb(),i.Sb(10,"mat-form-field",24),i.Sb(11,"input",33),i.ac("dateChange",(function(t){return i.rc(e),i.ec(2).updateDateCurrentMax(t.value)})),i.Rb(),i.Ob(12,"mat-datepicker-toggle",34),i.Ob(13,"mat-datepicker",null,37),i.Rb(),i.Rb()}if(2&e){const e=i.oc(7),t=i.oc(14),a=i.ec(2);i.Bb(4),i.jc("value",a.selectedDateMin)("min",a.minDate)("max",a.maxDate)("matDatepicker",e),i.Bb(1),i.jc("for",e),i.Bb(6),i.jc("value",a.selectedDateMax)("min",a.minDate)("max",a.maxDate)("matDatepicker",t),i.Bb(1),i.jc("for",t)}}function Me(e,t){if(1&e&&(i.Sb(0,"mat-option",31),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.jc("value",e),i.Bb(1),i.Cc(e)}}function Ee(e,t){if(1&e&&(i.Sb(0,"mat-radio-button",31),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.jc("value",e),i.Bb(1),i.Dc(" ",e," ")}}function Te(e,t){if(1&e&&(i.Sb(0,"mat-option",31),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.jc("value",e),i.Bb(1),i.Cc(e)}}function Ae(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",20),i.Sb(1,"mat-form-field"),i.Sb(2,"mat-label"),i.Bc(3,"Liste submode"),i.Rb(),i.Sb(4,"mat-select",38),i.ac("selectionChange",(function(t){return i.rc(e),i.ec(2).updateScatterSubmod(t.value)})),i.Ac(5,Te,2,2,"mat-option",26),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=i.ec(2);i.Bb(4),i.jc("ngModel",e.allScatterSubmod),i.Bb(1),i.jc("ngForOf",e.allScatterSubmod)}}function Ge(e,t){if(1&e&&(i.Sb(0,"mat-radio-button",31),i.Bc(1),i.Rb()),2&e){const e=t.$implicit;i.jc("value",e),i.Bb(1),i.Dc(" ",e," ")}}function je(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",39),i.Sb(1,"div"),i.Sb(2,"mat-radio-group",27),i.ac("change",(function(t){return i.rc(e),i.ec(2).updateBarSubmod(t.value)}))("ngModelChange",(function(t){return i.rc(e),i.ec(2).selectedBarSubmod=t})),i.Sb(3,"div",28),i.Ac(4,Ge,2,2,"mat-radio-button",26),i.Rb(),i.Rb(),i.Rb(),i.Sb(5,"div",19),i.Sb(6,"div",40),i.Sb(7,"span"),i.Bc(8,"Gap bar"),i.Rb(),i.Sb(9,"mat-slider",41),i.ac("change",(function(t){return i.rc(e),i.ec(2).updateBarGap(t.value,"gap")}))("ngModelChange",(function(t){return i.rc(e),i.ec(2).selectedGap=t})),i.Rb(),i.Rb(),i.Sb(10,"div",40),i.Sb(11,"span"),i.Bc(12,"Gap bar groupe"),i.Rb(),i.Sb(13,"mat-slider",41),i.ac("change",(function(t){return i.rc(e),i.ec(2).updateBarGap(t.value,"gapGroup")}))("ngModelChange",(function(t){return i.rc(e),i.ec(2).selectedGapGroup=t})),i.Rb(),i.Rb(),i.Rb(),i.Rb()}if(2&e){const e=i.ec(2);i.Bb(2),i.jc("ngModel",e.selectedBarSubmod),i.Bb(2),i.jc("ngForOf",e.allBarSubmob),i.Bb(5),i.jc("ngModel",e.selectedGap),i.Bb(4),i.jc("ngModel",e.selectedGapGroup)}}function ke(e,t){if(1&e){const e=i.Tb();i.Sb(0,"div",17),i.Sb(1,"div",18),i.Sb(2,"h1"),i.Bc(3," Param\xe8tres "),i.Rb(),i.Rb(),i.Sb(4,"div",19),i.Sb(5,"div",18),i.Sb(6,"h3"),i.Bc(7," Choix Pays "),i.Rb(),i.Rb(),i.Sb(8,"div",20),i.Ac(9,Be,4,2,"div",7),i.Ac(10,Ie,4,2,"div",7),i.Rb(),i.Rb(),i.Ob(11,"mat-divider"),i.Sb(12,"div",19),i.Sb(13,"div",18),i.Sb(14,"h3"),i.Bc(15," Choix Date "),i.Rb(),i.Rb(),i.Sb(16,"div",20),i.Sb(17,"mat-slide-toggle",21),i.ac("change",(function(t){return i.rc(e),i.ec().updateDateContener(t.checked)})),i.Bc(18," Date Unique "),i.Rb(),i.Rb(),i.Ac(19,we,6,5,"div",22),i.Ac(20,Oe,15,10,"div",22),i.Rb(),i.Ob(21,"mat-divider"),i.Sb(22,"div",19),i.Sb(23,"div",18),i.Sb(24,"h3"),i.Bc(25," Granularit\xe9 Graphique "),i.Rb(),i.Rb(),i.Sb(26,"div",23),i.Sb(27,"mat-slide-toggle",21),i.ac("change",(function(t){return i.rc(e),i.ec().updateGraphiqueContener(t.checked)})),i.Bc(28," Graphique global "),i.Rb(),i.Sb(29,"mat-form-field",24),i.Sb(30,"mat-label"),i.Bc(31,"Liste graphique"),i.Rb(),i.Sb(32,"mat-select",25),i.ac("selectionChange",(function(t){return i.rc(e),i.ec().updateNumberOfGraphique(t.value)})),i.Ac(33,Me,2,2,"mat-option",26),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Ob(34,"mat-divider"),i.Sb(35,"div",19),i.Sb(36,"div",18),i.Sb(37,"h3"),i.Bc(38," Graphique Type "),i.Rb(),i.Rb(),i.Sb(39,"div",20),i.Sb(40,"mat-radio-group",27),i.ac("change",(function(t){return i.rc(e),i.ec().updateGraphicType(t.value)}))("ngModelChange",(function(t){return i.rc(e),i.ec().selectedPlotType=t})),i.Sb(41,"div",28),i.Ac(42,Ee,2,2,"mat-radio-button",26),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Ob(43,"mat-divider"),i.Sb(44,"div",19),i.Sb(45,"div",18),i.Sb(46,"h3"),i.Bc(47," Customization "),i.Rb(),i.Rb(),i.Ac(48,Ae,6,2,"div",22),i.Ac(49,je,14,4,"div",29),i.Rb(),i.Rb()}if(2&e){const e=i.ec();i.Bb(9),i.jc("ngIf",!e.uniqueGraphique),i.Bb(1),i.jc("ngIf",e.uniqueGraphique),i.Bb(7),i.jc("checked",e.uniqueDate),i.Bb(2),i.jc("ngIf",e.uniqueDate),i.Bb(1),i.jc("ngIf",!e.uniqueDate),i.Bb(7),i.jc("checked",e.uniqueGraphique),i.Bb(5),i.jc("disabled",e.uniqueGraphique),i.Bb(1),i.jc("ngForOf",e.listTypeGraph),i.Bb(7),i.jc("ngModel",e.selectedPlotType),i.Bb(2),i.jc("ngForOf",e.listPlotType),i.Bb(6),i.jc("ngIf",e.selectedPlotType===e.aliasPlotType.SCATTER),i.Bb(1),i.jc("ngIf",e.selectedPlotType===e.aliasPlotType.BAR)}}function Fe(e,t){1&e&&(i.Sb(0,"mat-icon"),i.Bc(1," keyboard_arrow_left "),i.Rb())}function Pe(e,t){1&e&&(i.Sb(0,"mat-icon"),i.Bc(1," keyboard_arrow_right "),i.Rb())}const Ve=function(){return{width:"100%",height:"100%"}};function He(e,t){if(1&e&&(i.Sb(0,"div",42),i.Ob(1,"plotly-plot",43),i.Rb()),2&e){const e=t.$implicit;i.Bb(1),i.xc(i.kc(6,Ve)),i.jc("useResizeHandler",!0)("data",e.data)("config",e.config)("layout",e.layout)}}const _e=function(e){return{bottom:!1,right:e,top:!1,left:!1}};let qe=300;const ze=[{path:"",component:l,children:[{path:"",redirectTo:"graphique",pathMatch:"full"},{path:"carte",component:se},{path:"graphique",component:(()=>{class e{constructor(e){this.http=e,this.aliasPlotType=le.a,this.allData=[],this.allCountry=[],this.isOpenSidebar=!0,this.widthSidebar=qe,this.uniqueDate=!0,this.uniqueGraphique=!0,this.selectedSpecificGraphicsList=[],this.allBarSubmob=[de.a.GROUP,de.a.STACK],this.selectedBarSubmod=de.a.GROUP,this.selectedScatterSubmod="",this.selectedGap=.1,this.selectedGapGroup=.1,this.allScatterSubmod=[be.a.LINES,be.a.MARKERS],this.listTypeGraph=[d.a.ACTIVE,d.a.CONFIRMED,d.a.DEATH,d.a.RECOVERED,d.a.RECOVERY_RATE,d.a.MORTALITY_RATE],this.selectedPlotType=le.a.BAR,this.listPlotType=[le.a.BAR,le.a.SCATTER],this.allGraphics=[],this.initializeGlobalGraphics(),this.loadData()}loadData(){this.http.get(h.b,{responseType:"text"}).subscribe(e=>{this.parseXmlFile(e)})}parseXmlFile(e){const t=e.split("\n");let a=0;t.forEach(e=>{if(e.length&&""!==e){const t=e.split(",");0===a||(this.allData.push(new ue(new Date(t[0]),"",t[1],Number(t[2]),Number(t[3]),Number(t[4]),Number(t[5]),Number(t[6]),Number(t[7]))),void 0===this.maxDate&&(this.maxDate=new Date(t[0])),void 0===this.minDate&&(this.minDate=new Date(t[0])),new Date(t[0]).getTime()>this.maxDate.getTime()&&(this.maxDate=new Date(t[0])),new Date(t[0]).getTime()<this.minDate.getTime()&&(this.minDate=new Date(t[0])),this.allCountry.find(e=>e.country===String(t[1]))||this.allCountry.push({country:String(t[1])})),a++}}),this.selectedDateMax=new Date(this.maxDate);const n=new Date(this.selectedDateMax);n.setDate(n.getDate()-1),this.selectedDateMin=n,this.currentDate=new Date(this.maxDate),this.filtredData=he(this.allData),this.selectedUniqueCountry=this.allCountry[0],this.selectedMultipleCountry=[this.allCountry[0]],this.updateFiltredData()}onResizeEnd(e){qe=e.rectangle.width,this.widthSidebar=e.rectangle.width,Object(h.h)()}toggleSidebar(){this.isOpenSidebar=!this.isOpenSidebar,this.widthSidebar=this.isOpenSidebar?qe:30,Object(h.h)()}updateBarSubmod(e){this.selectedBarSubmod=e,this.allGraphics.forEach(e=>{e.layout.barmode=this.selectedBarSubmod.toLowerCase()})}updateNumberOfGraphique(e){this.selectedSpecificGraphicsList=e,this.redrawSpecificGraphicsList()}redrawSpecificGraphicsList(){this.deleteAllGraphics(),this.selectedSpecificGraphicsList.forEach(e=>{this.addGraphics("Graphique "+e,[],[],e)}),Object(h.h)(),this.updateFiltredData()}addGraphics(e,t,a,n){const o=[];o.push({x:t,y:a,type:this.selectedPlotType,mode:this.selectedScatterSubmod});const i={data:o,config:{responsive:!0},layout:{title:e,autosize:!0,bargap:this.selectedGap,bargroupgap:this.selectedGapGroup,barmode:this.selectedBarSubmod.toLowerCase()},typeGraphic:n};this.allGraphics.push(i)}updateDateContener(e){this.uniqueDate=e,this.updateFiltredData()}initializeGlobalGraphics(){this.deleteAllGraphics(),this.addGraphics("Graphique Global",[],[],d.a.GLOBAL),Object(h.h)()}updateGraphiqueContener(e){this.uniqueGraphique=e,this.uniqueGraphique?(this.initializeGlobalGraphics(),this.updateFiltredData()):this.selectedSpecificGraphicsList.length?this.redrawSpecificGraphicsList():this.deleteAllGraphics(),this.updateFiltredData()}updateFiltredData(){this.cleanAllDataGraph(),this.filtredData.forEach(this.uniqueDate?this.uniqueGraphique?e=>{this.selectedUniqueCountry.country===e.getCountry()&&Object(h.j)(e.getDate(),this.currentDate)&&this.addRow(e)}:e=>{this.selectedMultipleCountry.forEach(t=>{t.country===e.getCountry()&&Object(h.j)(e.getDate(),this.currentDate)&&this.addRowMultipleDate(e)})}:this.uniqueGraphique?e=>{this.selectedUniqueCountry.country===e.getCountry()&&Object(h.i)(e.getDate(),this.selectedDateMin,this.selectedDateMax)&&this.addRow(e)}:e=>{this.selectedMultipleCountry.forEach(t=>{t.country===e.getCountry()&&Object(h.i)(e.getDate(),this.selectedDateMin,this.selectedDateMax)&&this.addRowMultipleDate(e)})})}addRowMultipleDate(e){const t=e.getDate().getDate()+"-"+e.getDate().getMonth()+"-"+e.getDate().getFullYear();this.allGraphics.forEach(a=>{let n;n=!(a.data.length>0);let o=e.getCountry();switch(""!==e.getRegion()&&(o+=" - "+e.getRegion()),a.typeGraphic){case d.a.ACTIVE:if(0===a.data.length)a.data.push({x:[t],y:[e.getActive()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod});else{let n=!1;a.data.forEach(a=>{a.name!==o||n||(n=!0,a.x.push(t),a.y.push(e.getActive()))}),n||a.data.push({x:[t],y:[e.getActive()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod})}break;case d.a.CONFIRMED:if(0===a.data.length)a.data.push({x:[t],y:[e.getConfirmed()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod});else{let n=!1;a.data.forEach(a=>{a.name!==o||n||(n=!0,a.x.push(t),a.y.push(e.getConfirmed()))}),n||a.data.push({x:[t],y:[e.getConfirmed()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod})}break;case d.a.DEATH:if(0===a.data.length)a.data.push({x:[t],y:[e.getDeath()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod});else{let n=!1;a.data.forEach(a=>{a.name!==o||n||(n=!0,a.x.push(t),a.y.push(e.getDeath()))}),n||a.data.push({x:[t],y:[e.getDeath()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod})}break;case d.a.RECOVERED:if(0===a.data.length)a.data.push({x:[t],y:[e.getRecovered()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod});else{let n=!1;a.data.forEach(a=>{a.name!==o||n||(n=!0,a.x.push(t),a.y.push(e.getRecovered()))}),n||a.data.push({x:[t],y:[e.getRecovered()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod})}break;case d.a.MORTALITY_RATE:if(0===a.data.length)a.data.push({x:[t],y:[e.getMortalityRate()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod});else{let n=!1;a.data.forEach(a=>{a.name!==o||n||(n=!0,a.x.push(t),a.y.push(e.getMortalityRate()))}),n||a.data.push({x:[t],y:[e.getMortalityRate()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod})}break;case d.a.RECOVERY_RATE:if(0===a.data.length)a.data.push({x:[t],y:[e.getRecoveryRate()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod});else{let n=!1;a.data.forEach(a=>{a.name!==o||n||(n=!0,a.x.push(t),a.y.push(e.getRecoveryRate()))}),n||a.data.push({x:[t],y:[e.getRecoveryRate()],name:o,type:this.selectedPlotType.toLowerCase(),legendgroup:o,showlegend:!0,mode:this.selectedScatterSubmod})}}})}addRow(e){const t=e.getDate().getDate()+"-"+e.getDate().getMonth()+"-"+e.getDate().getFullYear();this.allGraphics.forEach(a=>{let n;switch(n=!(a.data.length>0),a.typeGraphic){case d.a.GLOBAL:0===a.data.length?(a.data.push({x:[t],y:[e.getDeath()],type:this.selectedPlotType.toLowerCase(),name:pe.a.DEATH,marker:{color:"red"},legendgroup:"D\xe9c\xe9s",showlegend:n,mode:this.selectedScatterSubmod}),a.data.push({x:[t],y:[e.getConfirmed()],type:this.selectedPlotType.toLowerCase(),name:pe.a.CONFIRMED,marker:{color:"grey"},legendgroup:"Confirm\xe9s",showlegend:n,mode:this.selectedScatterSubmod}),a.data.push({x:[t],y:[e.getRecovered()],type:this.selectedPlotType.toLowerCase(),name:pe.a.RECOVERED,marker:{color:"green"},legendgroup:"Gu\xe9rris",showlegend:n,mode:this.selectedScatterSubmod}),a.data.push({x:[t],y:[e.getActive()],type:this.selectedPlotType.toLowerCase(),name:pe.a.ACTIVE,marker:{color:"blue"},legendgroup:"Actifs",showlegend:n,mode:this.selectedScatterSubmod})):a.data.forEach(a=>{switch(a.name){case pe.a.ACTIVE:a.x.push(t),a.y.push(e.getActive());break;case pe.a.DEATH:a.x.push(t),a.y.push(e.getDeath());break;case pe.a.RECOVERED:a.x.push(t),a.y.push(e.getRecovered());break;case pe.a.CONFIRMED:a.x.push(t),a.y.push(e.getConfirmed())}});break;case d.a.ACTIVE:a.data.push({x:[t],y:[e.getActive()],name:pe.a.ACTIVE,type:this.selectedPlotType.toLowerCase(),marker:{color:"blue"},legendgroup:"Actifs",showlegend:n,mode:this.selectedScatterSubmod});break;case d.a.CONFIRMED:a.data.push({x:[t],y:[e.getConfirmed()],name:pe.a.CONFIRMED,type:this.selectedPlotType.toLowerCase(),marker:{color:"grey"},legendgroup:"Confirm\xe9s",showlegend:n,mode:this.selectedScatterSubmod});break;case d.a.DEATH:a.data.push({x:[t],y:[e.getDeath()],type:this.selectedPlotType.toLowerCase(),name:pe.a.DEATH,marker:{color:"red"},legendgroup:"D\xe9c\xe9s",showlegend:n,mode:this.selectedScatterSubmod});break;case d.a.RECOVERED:a.data.push({x:[t],y:[e.getRecovered()],name:pe.a.RECOVERED,type:this.selectedPlotType.toLowerCase(),marker:{color:"green"},legendgroup:"Gu\xe9rris",showlegend:n,mode:this.selectedScatterSubmod});break;case d.a.MORTALITY_RATE:a.data.push({x:[t],y:[e.getMortalityRate()],name:pe.a.RECOVERED,type:this.selectedPlotType.toLowerCase(),marker:{color:"purple"},legendgroup:"Taux de mortalit\xe9",showlegend:n,mode:this.selectedScatterSubmod});break;case d.a.RECOVERY_RATE:a.data.push({x:[t],y:[e.getRecoveryRate()],name:pe.a.RECOVERED,type:this.selectedPlotType.toLowerCase(),marker:{color:"pink"},legendgroup:"Taux de soign\xe9s",showlegend:n,mode:this.selectedScatterSubmod})}})}updateDateCurrentMin(e){this.selectedDateMin=e,this.updateFiltredData()}updateDateCurrentMax(e){this.selectedDateMax=e,this.updateFiltredData()}updateDate(e){this.currentDate=e,this.updateFiltredData()}cleanAllDataGraph(){this.allGraphics.forEach(e=>{e.data=[]})}deleteAllGraphics(){this.allGraphics=[]}updateScatterSubmod(e){this.selectedScatterSubmod="";let t=1;e.forEach(a=>{this.selectedScatterSubmod+=a.toLowerCase(),t<e.length&&(this.selectedScatterSubmod+="+"),t++}),this.allGraphics.forEach(e=>{e.data.forEach(e=>{e.mode=this.selectedScatterSubmod})})}updateGraphicType(e){this.selectedPlotType=e,this.allGraphics.forEach(e=>{e.data.forEach(e=>{e.type=this.selectedPlotType.toLowerCase()})})}updateBarGap(e,t){switch(t){case"gap":this.selectedGap=e,this.allGraphics.forEach(e=>{e.layout.bargap=this.selectedGap});break;case"gapGroup":this.selectedGapGroup=e,this.allGraphics.forEach(e=>{e.layout.bargroupgap=this.selectedGapGroup})}}validate(e){return!(e.rectangle.width&&e.rectangle.width<300)}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(p.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["app-graphique"]],decls:22,vars:11,consts:[["fxFlexFill","","fxLayout","row","fxLayoutAlign","center",1,"mainContener"],["mwlResizable","","resizeCursorPrecision","5",3,"enableGhostResize","resizeEdges","validateResize","resizeEnd"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between"],["fxFlex","","fxLayout","column","fxLayoutGap","20px","class","scrollable",4,"ngIf"],["fxLayout","row","fxFlex","30px"],["fxFlex","","fxLayoutAlign","center"],["fxFlex","","mat-button","",1,"buttonSidebarClose","icon",3,"click"],[4,"ngIf"],["fxFlex","2px",1,"dividerSidebar"],["fxFlex",""],["fxLayout","column","fxFlex","",4,"ngFor","ngForOf"],[1,"floatingButtonContener"],["direction","up","animationMode","fling"],["spin","true"],["matTooltipPosition","left","mat-fab","","matTooltip","Param\xe8tres"],[1,"spin360"],["matTooltipPosition","left","matTooltip","Ouvrir menu param\xe8tres","mat-mini-fab","",3,"click"],["fxFlex","","fxLayout","column","fxLayoutGap","20px",1,"scrollable"],["fxLayout","row","fxLayoutAlign","center"],["fxLayout","column"],[1,"contentTemplate"],[3,"checked","change"],["class","contentTemplate",4,"ngIf"],["fxLayout","column","fxLayoutGap","5px",1,"contentTemplate"],[1,"dateInput"],["multiple","",3,"disabled","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","change","ngModelChange"],["fxLayout","column","fxLayoutGap","5px"],["class","contentTemplate","fxLayout","column","fxLayoutGap","10px",4,"ngIf"],["multiple","",3,"value","selectionChange","valueChange"],[3,"value"],[3,"value","selectionChange","valueChange"],["matInput","",3,"value","min","max","matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker",""],["pickerCurrentMin",""],["pickerCurrentMax",""],["multiple","",3,"ngModel","selectionChange"],["fxLayout","column","fxLayoutGap","10px",1,"contentTemplate"],["fxLayout","row","fxLayoutAlign","space-between center"],["max","1","min","0","step","0.1","thumbLabel","true",3,"ngModel","change","ngModelChange"],["fxLayout","column","fxFlex",""],["fxFlex","",3,"useResizeHandler","data","config","layout"]],template:function(e,t){1&e&&(i.Sb(0,"div",0),i.Sb(1,"div",1),i.ac("resizeEnd",(function(e){return t.onResizeEnd(e)})),i.Sb(2,"div",2),i.Ac(3,ke,50,12,"div",3),i.Sb(4,"div",4),i.Sb(5,"div",5),i.Sb(6,"button",6),i.ac("click",(function(){return t.toggleSidebar()})),i.Ac(7,Fe,2,0,"mat-icon",7),i.Ac(8,Pe,2,0,"mat-icon",7),i.Rb(),i.Rb(),i.Ob(9,"div",8),i.Rb(),i.Rb(),i.Rb(),i.Sb(10,"div",9),i.Ac(11,He,2,7,"div",10),i.Rb(),i.Rb(),i.Sb(12,"div",11),i.Sb(13,"floating-button",12),i.Sb(14,"floating-button-trigger",13),i.Sb(15,"button",14),i.Sb(16,"mat-icon",15),i.Bc(17,"menu"),i.Rb(),i.Rb(),i.Rb(),i.Sb(18,"floating-button-action"),i.Sb(19,"button",16),i.ac("click",(function(){return t.toggleSidebar()})),i.Sb(20,"mat-icon"),i.Bc(21,"build"),i.Rb(),i.Rb(),i.Rb(),i.Rb(),i.Rb()),2&e&&(i.Bb(1),i.zc("width",t.widthSidebar+"px"),i.jc("enableGhostResize",!0)("resizeEdges",i.lc(9,_e,t.isOpenSidebar))("validateResize",t.validate),i.Bb(2),i.jc("ngIf",t.isOpenSidebar),i.Bb(4),i.jc("ngIf",t.isOpenSidebar),i.Bb(1),i.jc("ngIf",!t.isOpenSidebar),i.Bb(3),i.jc("ngForOf",t.allGraphics))},directives:[c.f,c.d,c.c,g.a,c.b,n.k,f.a,n.j,ge.a,fe.a,me.a,C.a,Re.a,c.e,R.a,ye.a,y.b,y.e,v.a,ve.b,Se.g,Se.i,D.k,S.b,x.b,x.d,y.f,x.a,ve.a,xe.a,De.a],styles:[".dividerSidebar[_ngcontent-%COMP%]{background-color:#323233}.icon[_ngcontent-%COMP%]:hover{color:#ec407a}.icon[_ngcontent-%COMP%]{color:#f48fb1}mwlResizable[_ngcontent-%COMP%]{box-sizing:border-box}.floatingButtonContener[_ngcontent-%COMP%]{position:fixed;bottom:40px;right:20px}.buttonSidebarClose[_ngcontent-%COMP%]{padding:0;width:20px;min-width:0}.contentTemplate[_ngcontent-%COMP%]{padding-left:10px}.titleTemplate[_ngcontent-%COMP%]{padding-left:5px}.dateInput[_ngcontent-%COMP%]{width:150px}.scrollable[_ngcontent-%COMP%]{overflow:auto}"]}),e})()}]}];let Ne=(()=>{class e{}return e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({factory:function(t){return new(t||e)},imports:[[o.e.forChild(ze)],o.e]}),e})();var Ye=a("95T3"),Ue=a("YUcS"),$e=a("j+7c"),Xe=a("XhcP"),Ke=a("bSwM"),Je=a("Xa2L");a.d(t,"GlobalModule",(function(){return Qe})),De.b.plotlyjs=Ye;let Qe=(()=>{class e{}return e.\u0275mod=i.Lb({type:e}),e.\u0275inj=i.Kb({factory:function(t){return new(t||e)},imports:[[n.c,Ne,r.c,De.b,f.b,C.b,Ue.a,$e.a,ve.c,Se.c,R.b,Xe.a,g.b,me.b,Ke.a,x.c,S.c,y.d,D.i,ye.b,v.b,Se.j,xe.b,Je.a,m.c]]}),e})()}}]);